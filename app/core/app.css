@import "tailwindcss";

/* Limit Break 模式样式 */
.limit-break {
  --primary-color: #dc2626;
  /* 警告红 */
  --secondary-color: #fbbf24;
  /* 金色 */
}

.limit-break * {
  border-radius: 0 !important;
  /* 所有圆角变直角 */
}

/* Glitch 故障效果 */
@keyframes glitch {
  0% {
    transform: translate(0);
  }

  20% {
    transform: translate(-2px, 2px);
  }

  40% {
    transform: translate(-2px, -2px);
  }

  60% {
    transform: translate(2px, 2px);
  }

  80% {
    transform: translate(2px, -2px);
  }

  100% {
    transform: translate(0);
  }
}

/* 卡片翻转背面隐藏 */
.backface-hidden {
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* Markdown 预览样式 */
.markdown-content {
  @apply text-slate-200;
}

.markdown-content img {
  @apply rounded-lg shadow-lg max-w-full my-4 cursor-pointer;
}

.markdown-content pre {
  @apply bg-slate-800 rounded-lg p-4 overflow-x-auto my-4;
}

.markdown-content code {
  @apply bg-slate-800/50 px-1 py-0.5 rounded text-sm;
}

.markdown-content pre code {
  @apply bg-transparent p-0;
}

.markdown-content h1,
.markdown-content h2,
.markdown-content h3,
.markdown-content h4,
.markdown-content h5,
.markdown-content h6 {
  @apply font-bold text-white mt-6 mb-3;
}

.markdown-content h1 {
  @apply text-3xl;
}

.markdown-content h2 {
  @apply text-2xl;
}

.markdown-content h3 {
  @apply text-xl;
}

.markdown-content p {
  @apply mb-4 leading-relaxed;
}

.markdown-content ul,
.markdown-content ol {
  @apply mb-4 pl-6;
}

.markdown-content li {
  @apply mb-2;
}

.markdown-content blockquote {
  @apply border-l-4 pl-4 italic my-4 text-slate-300;
  border-color: #FF9F43;
}

.markdown-content a {
  @apply text-primary-start hover:text-primary-end underline;
}

@theme {
  /* Fonts */
  --font-sans: "Inter", "Roboto", "Noto Sans SC", sans-serif;
  --font-display: "Orbitron", sans-serif;
  --font-soft: "Comfortaa", cursive;

  /* Colors - Public (A.T. Field) */
  --color-neon-pink: #ec4899;
  --color-cyber-purple: #8b5cf6;

  /* Semantic Colors */
  --color-bg-primary: var(--bg-primary);
  --color-text-primary: var(--text-primary);
  --color-glass-bg: var(--glass-bg);
  --color-glass-border: var(--glass-border);

  /* Primary Colors - Tailwind v4 格式 */
  --color-primary-start: #FF9F43;
  --color-primary-end: #FF6B6B;

  /* 同时定义下划线版本以兼容 */
  --color-primary_start: #FF9F43;
  --color-primary_end: #FF6B6B;
}

:root {
  /* Light Mode (Default) */
  --bg-primary: #FAFAFA;
  --text-primary: #1a1a1a;
  --glass-bg: rgba(255, 255, 255, 0.7);
  --glass-border: rgba(255, 255, 255, 0.6);
  --card-bg: linear-gradient(135deg, rgba(255, 255, 255, 0.8), rgba(255, 245, 235, 0.6));
}

.dark {
  /* Dark Mode */
  --bg-primary: #0f172a;
  --text-primary: #f1f5f9;
  --glass-bg: rgba(15, 23, 42, 0.6);
  --glass-border: rgba(255, 255, 255, 0.1);
  --card-bg: linear-gradient(135deg, rgba(30, 41, 59, 0.8), rgba(15, 23, 42, 0.6));
}

@layer base {

  html,
  body {
    @apply h-full w-full m-0 p-0 overflow-x-hidden;
  }

  /* 平滑滚动 */
  html {
    scroll-behavior: smooth;
  }

  /* 美化滚动条 - 极细、半透明、圆角 */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(255, 159, 67, 0.3);
    border-radius: 3px;
    transition: background 0.2s;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 159, 67, 0.5);
  }

  /* Firefox 滚动条样式 */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 159, 67, 0.3) transparent;
  }

  /* Custom Cursor Hide Default */
  body.custom-cursor {
    cursor: none;
  }

  a,
  button,
  input,
  textarea {
    cursor: none;
    /* We will use custom cursor */
  }
}

/* Glassmorphism Utilities - Optimized for performance */
.glass-panel {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.7), rgba(255, 245, 235, 0.8));
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.6);
  box-shadow: 0 8px 32px 0 rgba(255, 159, 67, 0.15);
  will-change: transform;
  /* 性能优化 */

  /* Fallback for low-end devices */
  @supports not (backdrop-filter: blur(20px)) {
    background: rgba(255, 255, 255, 0.9);
  }

  /* 移动端降级：使用半透明纯色 */
  @media (max-width: 640px) {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: none;
  }
}

.glass-card {
  @apply rounded-3xl transition-all duration-300;
  background: var(--card-bg);
  backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  box-shadow: 0 8px 32px 0 rgba(255, 159, 67, 0.15);
  will-change: transform;
  /* 性能优化 */

  /* Mobile optimization - 降级策略 */
  @media (max-width: 640px) {
    @apply rounded-2xl;
    box-shadow: 0 4px 16px 0 rgba(255, 159, 67, 0.1);
    background: var(--bg-primary);
    /* 移动端使用纯色 */
    backdrop-filter: none;
    /* 禁用毛玻璃 */
  }

  /* Fallback for low-end devices */
  @supports not (backdrop-filter: blur(20px)) {
    background: var(--bg-primary);
  }
}

.glass-card:hover {
  @apply -translate-y-2;
  border-color: rgba(255, 159, 67, 0.4);
  box-shadow: 0 16px 48px 0 rgba(255, 159, 67, 0.25);
  transform: translateY(-5px);

  /* Mobile optimization */
  @media (max-width: 640px) {
    @apply -translate-y-1;
    box-shadow: 0 8px 24px 0 rgba(255, 159, 67, 0.15);
  }
}

/* Soft UI Utilities */
.soft-panel {
  background-color: var(--color-soft-white);
  border-radius: 24px;
  box-shadow:
    0 20px 25px -5px rgba(0, 0, 0, 0.05),
    0 10px 10px -5px rgba(0, 0, 0, 0.01);
}

.soft-input {
  @apply bg-gray-50 rounded-xl border-none outline-none px-4 py-2 transition-all duration-300;
}

.soft-input:focus {
  box-shadow: 0 0 0 4px rgba(244, 114, 182, 0.2);
}

/* Animations */
@keyframes float {
  0% {
    transform: translateY(0px);
  }

  50% {
    transform: translateY(-10px);
  }

  100% {
    transform: translateY(0px);
  }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

/* Glitch Effect Base */
.glitch-text {
  position: relative;
}

.glitch-text::before,
.glitch-text::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}