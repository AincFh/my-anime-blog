# Project: A.T. Field (ç»å¯¹é¢†åŸŸ)

æ²‰æµ¸å¼äºŒæ¬¡å…ƒä¸ªäººç½‘ç«™ - åŸºäº Cloudflare å…¨å®¶æ¡¶ (Workers + D1 + R2)

> "The fate of destruction is also the joy of rebirth." - EVA

## ğŸ¯ é¡¹ç›®è¿›åº¦

### âœ… å·²å®Œæˆ

#### 1. æ•°æ®åº“è®¾è®¡
- âœ… **æ–‡ç« ç³»ç»Ÿ**: æ”¯æŒ Markdownã€å°é¢å›¾ã€é˜…è¯»é‡ç»Ÿè®¡ã€æ ‡ç­¾åˆ†ç±»
- âœ… **ç•ªå‰§ç³»ç»Ÿ**: è¿½ç•ªçŠ¶æ€ç®¡ç†ï¼ˆåœ¨çœ‹/çœ‹è¿‡/æƒ³çœ‹/å¼ƒç•ªï¼‰ã€è¯„åˆ†ã€çŸ­è¯„
- âœ… **ç”¨æˆ·ç³»ç»Ÿ**: åŸºäº D1 çš„ç”¨æˆ·è®¤è¯ã€æƒé™ç®¡ç†
- âœ… **å…¨æ–‡æœç´¢**: åŸºäº SQLite FTS5 çš„é«˜æ€§èƒ½æœç´¢

#### 2. æ ¸å¿ƒåŠŸèƒ½é¡µé¢
- âœ… **é¦–é¡µ (Home)**: æ²‰æµ¸å¼ Hero åŒºåŸŸï¼Œæœ€æ–°åŠ¨æ€å±•ç¤º
- âœ… **æ–‡ç« åˆ—è¡¨ (Articles)**: å“åº”å¼ç½‘æ ¼å¸ƒå±€ï¼Œæ”¯æŒåˆ†ç±»ç­›é€‰
- âœ… **æ—¶å…‰æœº (Archive)**: åŒåˆ—äº¤äº’å¼æ—¶é—´è½´ï¼Œè®°å½•ç”Ÿæ´»ç‚¹æ»´
- âœ… **ç•ªå‰§å¢™ (Bangumi)**: ç€‘å¸ƒæµæµ·æŠ¥å±•ç¤ºï¼Œæ”¯æŒçŠ¶æ€è¿‡æ»¤å’Œè¯„åˆ†
- âœ… **å›¾åº“ (Gallery)**: æ‹ç«‹å¾—é£æ ¼ç…§ç‰‡å¢™ï¼Œæ”¯æŒéšæœºæ—‹è½¬å’Œè§†å·®æ•ˆæœ
- âœ… **æ–‡ç« è¯¦æƒ…**: Markdown æ¸²æŸ“ã€ä»£ç é«˜äº®ã€ç›®å½•å¯¼èˆªã€å‰§é€æ ‡ç­¾ã€ä½œè€…ä¿¡æ¯ä¾§è¾¹æ 

#### 3. åå°ç®¡ç†ç³»ç»Ÿ (Project: MAGI)
- âœ… **ä»ªè¡¨ç›˜**: èµ›åšæœ‹å…‹é£æ ¼ (NERV Command Center)ï¼Œæµé‡é›·è¾¾ï¼ŒRPG é£æ ¼çŠ¶æ€å¡ç‰‡
- âœ… **å†…å®¹ç®¡ç†**: æ–‡ç« å‘å¸ƒ/ç¼–è¾‘/åˆ é™¤
- âœ… **ç•ªå‰§ç®¡ç†**: è¿½ç•ªè¿›åº¦æ›´æ–°
- âœ… **ç³»ç»Ÿè®¾ç½®**: å…¨å±€é…ç½®ç®¡ç†
- âœ… **è¯„è®ºç®¡ç†**: è¯„è®ºå®¡æ ¸ä¸çŠ¶æ€ç®¡ç†

#### 4. äº¤äº’ä¸ç¤¾åŒºåŠŸèƒ½
- âœ… **è¯„è®ºç³»ç»Ÿ**: æ”¯æŒå¼¹å¹•æ¨¡å¼ã€ä¹è§‚ UI æäº¤ã€æ—¶é—´æ ¼å¼åŒ–
- âœ… **å›¾ç‰‡ä¸Šä¼ **: æ‹–æ‹½ä¸Šä¼ åˆ° R2ï¼Œæ”¯æŒ Markdown ç¼–è¾‘å™¨å†…ç›´æ¥æ’å…¥

#### 5. SEO ä¸æ€§èƒ½
- âœ… **ç«™ç‚¹åœ°å›¾**: åŠ¨æ€ç”Ÿæˆ `sitemap.xml`
- âœ… **ç»“æ„åŒ–æ•°æ®**: æ–‡ç« é¡µé¢ JSON-LD æ”¯æŒ

#### 6. è§†è§‰è®¾è®¡
- âœ… **Glassmorphism**: å…¨å±€æ·±è‰²ç£¨ç ‚ç»ç’ƒè´¨æ„Ÿ
- âœ… **Dynamic Backgrounds**: `animated-mesh-gradient` åŠ¨æ€æµä½“èƒŒæ™¯
- âœ… **Silky Transitions**: åŸºäº Framer Motion çš„ä¸æ»‘é¡µé¢åˆ‡æ¢ï¼Œæ— é—ªçƒ
- âœ… **Responsive**: å®Œç¾é€‚é…ç§»åŠ¨ç«¯ã€å¹³æ¿å’Œæ¡Œé¢ç«¯
- âœ… **Typography Optimization**: æ–‡ç« å†…å®¹ä¼˜åŒ–æ’ç‰ˆã€åˆç†è¡Œé«˜ä¸é—´è·

#### 7. éƒ¨ç½²ä¸æ¶æ„
- âœ… **Cloudflare Workers**: è¾¹ç¼˜è®¡ç®— SSR æ¸²æŸ“
- âœ… **Cloudflare D1**: åˆ†å¸ƒå¼ SQL æ•°æ®åº“
- âœ… **Cloudflare R2**: å¯¹è±¡å­˜å‚¨ï¼ˆå›¾ç‰‡/åª’ä½“ï¼‰
- âœ… **GitHub Actions**: è‡ªåŠ¨åŒ– CI/CD éƒ¨ç½²æµç¨‹

### ğŸš§ å¾…å®ŒæˆåŠŸèƒ½

1. **äº¤äº’ä½“éªŒ**
   - [ ] Live2D çœ‹æ¿å¨˜é›†æˆ
   - [ ] æ›´å¤šå½©è›‹äº¤äº’

2. **é«˜çº§åŠŸèƒ½**
   - [ ] ç•ªå‰§è¯„åˆ†ä¸çŸ­è¯„å±•ç¤º
   - [ ] ç”¨æˆ·ä¸ªäººä¸»é¡µ

---

## ğŸ“… æ›´æ–°æ—¥å¿—

### v1.1.0 (2024-12-18)

**æ–°å¢åŠŸèƒ½:**
- âœ¨ **è¯„è®ºç³»ç»Ÿ**: å®Œæ•´çš„è¯„è®ºåŠŸèƒ½ï¼Œæ”¯æŒå¼¹å¹•æ¨¡å¼æ˜¾ç¤ºï¼Œè¡¨å•ä¼˜åŒ–è‡³é¡¶éƒ¨
- âœ¨ **å›¾ç‰‡ä¸Šä¼ **: ç¼–è¾‘å™¨å†…æ‹–æ‹½ä¸Šä¼ å›¾ç‰‡è‡³ R2
- âœ¨ **SEO ä¼˜åŒ–**: åŠ¨æ€ sitemap.xml å’Œ JSON-LD ç»“æ„åŒ–æ•°æ®
- âœ¨ **æ–‡ç« ç›®å½•å¯¼èˆª**: ä¾§è¾¹æ  Table of Contents
- âœ¨ **å‰§é€æ ‡ç­¾**: æ”¯æŒ `:::spoiler` è¯­æ³•ï¼Œé¼ æ ‡æ‚¬åœæ˜¾ç¤ºå†…å®¹

**å¸ƒå±€ä¼˜åŒ–:**
- ğŸ¨ **æ–‡ç« è¯¦æƒ…é¡µ**: ä¸¤æ å¸ƒå±€ï¼Œå·¦ä¾§å†…å®¹ + å³ä¾§ç›®å½•/ä½œè€…ä¿¡æ¯
- ğŸ¨ **é¦–é¡µ**: å‡å°‘å‚ç›´é—´è·ï¼Œä¼˜åŒ–è§†è§‰å±‚æ¬¡
- ğŸ¨ **å¯¼èˆªæ **: ä¿®å¤é‡å¤æ¸²æŸ“é—®é¢˜
- ğŸ¨ **Typography**: æ–‡ç« å†…å®¹æ’ç‰ˆä¼˜åŒ–ï¼Œå¢åŠ è¡Œé«˜å’Œæ®µè½é—´è·

**Bug ä¿®å¤:**
- ğŸ› ä¿®å¤é¡µé¢åˆ‡æ¢æ—¶çš„ç™½å±é—ªçƒé—®é¢˜
- ğŸ› ä¿®å¤å¯¼èˆªæ åœ¨å¤šä¸ªé¡µé¢é‡å¤å‡ºç°çš„é—®é¢˜
- ğŸ› ä¿®å¤å›¾ç‰‡è¿‡å¤§æ’‘ç ´å®¹å™¨çš„é—®é¢˜

**éƒ¨ç½²:**
- ğŸš€ GitHub Actions è‡ªåŠ¨éƒ¨ç½²é…ç½®
- ğŸš€ Cloudflare Workers è¾¹ç¼˜ SSR æ¸²æŸ“

## ğŸš€ å¿«é€Ÿå¼€å§‹ (å‚»ç“œå¼éƒ¨ç½²æ•™ç¨‹)

æœ¬æ•™ç¨‹å°†æŒ‡å¯¼ä½ ä»é›¶å¼€å§‹éƒ¨ç½²è¿™ä¸ªé¡¹ç›®åˆ° Cloudflareã€‚

### 1. ç¯å¢ƒå‡†å¤‡
ç¡®ä¿ä½ çš„ç”µè„‘å®‰è£…äº†ä»¥ä¸‹è½¯ä»¶ï¼š
- **Node.js** (ç‰ˆæœ¬ >= 20)
- **Git**

### 2. è·å–ä»£ç 
```bash
git clone <your-repo-url>
cd my-anime-blog
npm install
```

### 3. Cloudflare è´¦å·å‡†å¤‡
1. æ³¨å†Œ [Cloudflare](https://dash.cloudflare.com/sign-up) è´¦å·ã€‚
2. åœ¨ç»ˆç«¯ç™»å½• Cloudflareï¼š
```bash
npx wrangler login
# æµè§ˆå™¨ä¼šå¼¹å‡ºæˆæƒé¡µé¢ï¼Œç‚¹å‡» Allow
```

### 4. åˆå§‹åŒ–æ•°æ®åº“ (D1)
æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª D1 æ•°æ®åº“æ¥å­˜å‚¨æ–‡ç« å’Œç•ªå‰§æ•°æ®ã€‚

```bash
# 1. åˆ›å»ºæ•°æ®åº“ (åå­—å¯ä»¥è‡ªå®šä¹‰ï¼Œè¿™é‡Œç”¨ anime-db)
npx wrangler d1 create anime-db

# 2. å¤åˆ¶æ§åˆ¶å°è¾“å‡ºçš„ database_idï¼Œå¡«å…¥ wrangler.jsonc æ–‡ä»¶ä¸­çš„ database_id å­—æ®µ
# ç¤ºä¾‹: database_id = "xxxx-xxxx-xxxx-xxxx"
```

### 5. åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
```bash
# æ‰§è¡Œæœ¬åœ°è¿ç§»ï¼ˆç”¨äºæœ¬åœ°å¼€å‘ï¼‰
npx wrangler d1 execute anime-db --local --file=./schema.sql

# æ‰§è¡Œè¿œç¨‹è¿ç§»ï¼ˆç”¨äºæ­£å¼éƒ¨ç½²ï¼‰
npx wrangler d1 execute anime-db --remote --file=./schema.sql
```

### 6. æœ¬åœ°å¼€å‘é¢„è§ˆ
```bash
npm run dev
# è®¿é—® http://localhost:5173 æŸ¥çœ‹æ•ˆæœ
```

### 7. æ­£å¼éƒ¨ç½²
```bash
npm run deploy
```
éƒ¨ç½²å®Œæˆåï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºä½ çš„ç½‘ç«™è®¿é—®åœ°å€ï¼ˆä¾‹å¦‚ `https://my-anime-blog.ä½ çš„ç”¨æˆ·å.workers.dev`ï¼‰ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
app/
â”œâ”€â”€ components/                 # ç»„ä»¶åº“
â”‚   â”œâ”€â”€ admin/                 # åå°ç®¡ç†ç»„ä»¶ (Dashboard, Charts, Forms)
â”‚   â”œâ”€â”€ animations/            # åŠ¨ç”»ç»„ä»¶ (Backgrounds, Transitions)
â”‚   â”œâ”€â”€ layout/                # å¸ƒå±€ç»„ä»¶ (PublicLayout, AdminLayout)
â”‚   â”œâ”€â”€ ui/                    # åŸºç¡€ UI ç»„ä»¶ (Buttons, Cards, Inputs)
â”‚   â”œâ”€â”€ special/               # ç‰¹æ®Šæ•ˆæœç»„ä»¶ (EyeCatch, TheatricalMode)
â”‚   â””â”€â”€ ...
â”œâ”€â”€ routes/                    # è·¯ç”±å®šä¹‰ (åŸºäº React Router v7)
â”‚   â”œâ”€â”€ _index.tsx             # æ ¹è·¯ç”±é‡å®šå‘
â”‚   â”œâ”€â”€ home.tsx               # é¦–é¡µ
â”‚   â”œâ”€â”€ articles.tsx           # æ–‡ç« åˆ—è¡¨é¡µ
â”‚   â”œâ”€â”€ articles.$slug.tsx     # æ–‡ç« è¯¦æƒ…é¡µ
â”‚   â”œâ”€â”€ archive.tsx            # å½’æ¡£é¡µ (æ—¶é—´è½´)
â”‚   â”œâ”€â”€ bangumi.tsx            # ç•ªå‰§å¢™
â”‚   â”œâ”€â”€ gallery.tsx            # å›¾åº“é¡µ
â”‚   â”œâ”€â”€ admin.tsx              # åå°ç®¡ç†ä¸»é¡µ
â”‚   â”œâ”€â”€ admin.*.tsx            # åå°å­é¡µé¢
â”‚   â””â”€â”€ api.*.ts               # API æ¥å£ (Auth, Data)
â”œâ”€â”€ styles/                    # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ app.css                # Tailwind CSS å…¥å£
â”œâ”€â”€ utils/                     # å·¥å…·å‡½æ•°
â”œâ”€â”€ entry.server.tsx           # SSR å…¥å£ (Cloudflare Workers)
â””â”€â”€ root.tsx                   # æ ¹ç»„ä»¶ (å…¨å±€ Layout, Context)
```

## ğŸ¨ è®¾è®¡è¦ç‚¹

### å‰å° (Public)
- **é£æ ¼**: æ²‰æµ¸å¼ã€æ¯›ç»ç’ƒã€è§†å·®æ»šåŠ¨
- **é…è‰²**: æ·±è‰²ä¸»é¢˜ + éœ“è™¹ç²‰/èµ›åšç´« (Cyberpunk/EVA)
- **æ ¸å¿ƒäº¤äº’**:
    - é¡µé¢åˆ‡æ¢æ—¶å¹³æ»‘è¿‡æ¸¡ï¼Œæ— ç™½å±
    - æ»šåŠ¨æ—¶çš„è§†å·®èƒŒæ™¯æ•ˆæœ
    - å¡ç‰‡æ‚¬åœæ—¶çš„å…‰æ•ˆåé¦ˆ

### åå° (Admin - Project: MAGI)
- **é£æ ¼**: NERV Command Center (EVA é£æ ¼)
- **é…è‰²**: æ·±ç´«/é»‘ + è§å…‰ç»¿/æ©™
- **å¸ƒå±€**:
    - **Magic Spine**: å·¦ä¾§åŠ¨æ€ä¾§è¾¹æ 
    - **System HUD**: é¡¶éƒ¨çŠ¶æ€æ 
    - **Holographic Cards**: å…¨æ¯æŠ•å½±é£æ ¼çš„æ•°æ®å¡ç‰‡

## ğŸ”§ æŠ€æœ¯æ ˆ

- **Framework**: React Router v7
- **Runtime**: Cloudflare Workers
- **Database**: Cloudflare D1 (SQLite)
- **Styling**: Tailwind CSS v4
- **Animation**: Framer Motion
- **Icons**: Lucide React
- **Markdown**: Rehype / Remark

## ğŸ“ ä¸‹ä¸€æ­¥è®¡åˆ’

1. å®Œå–„åå°çš„æ–‡ç« ç¼–è¾‘å™¨ï¼Œæ”¯æŒæ‰€è§å³æ‰€å¾—ã€‚
2. æ¥å…¥ Cloudflare R2 å®ç°å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ã€‚
3. ä¼˜åŒ–ç§»åŠ¨ç«¯çš„äº¤äº’ä½“éªŒã€‚

## ğŸ’¡ æç¤º

- **å›¾ç‰‡èµ„æº**: ç›®å‰ä½¿ç”¨ Unsplash å’Œ API æä¾›çš„éšæœºå›¾ä½œä¸ºå ä½ï¼Œæ­£å¼ä¸Šçº¿å»ºè®®æ›¿æ¢ä¸ºè‡ªå·±çš„ R2 å›¾åºŠé“¾æ¥ã€‚
- **æ•°æ®ç®¡ç†**: å¯ä»¥é€šè¿‡åå° `/admin` ç®¡ç†æ•°æ®ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨ SQL å‘½ä»¤æ“ä½œ D1 æ•°æ®åº“ã€‚

## ğŸ“„ License

MIT License Â© 2024 My Anime Blog
